(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{6440:function(e,t,s){Promise.resolve().then(s.bind(s,8945))},8945:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ClientsPage}});var r=s(7437),n=s(2265),a=s(4033),i=s(8295);async function fetchUsers(){let e=await fetch("https://dummyjson.com/users");if(!e.ok)throw Error("Failed to fetch users");let t=await e.json();return t.users||[]}function ClientsPage(){let{user:e}=(0,i.a)(),t=(0,a.useRouter)(),[s,l]=(0,n.useState)([]),[o,u]=(0,n.useState)(""),[c,d]=(0,n.useState)(!0),[f,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{h(!0)},[]),(0,n.useEffect)(()=>{if(f){if(!e){t.replace("/login");return}fetchUsers().then(e=>{l(e),d(!1)}).catch(()=>d(!1))}},[e,t,f]),!f||!e)return null;let m=s.filter(e=>e.firstName.toLowerCase().includes(o.toLowerCase())||e.lastName.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.username.toLowerCase().includes(o.toLowerCase()));return(0,r.jsxs)("div",{className:"clients-bg",children:[(0,r.jsxs)("div",{className:"clients-header",children:[(0,r.jsx)("h2",{children:"Client list"}),(0,r.jsx)("input",{className:"clients-search",type:"text",placeholder:"Search by name, email, or username...",value:o,onChange:e=>u(e.target.value)})]}),(0,r.jsx)("div",{className:"clients-list",children:c?(0,r.jsx)("div",{className:"clients-loading",children:"Loading..."}):0===m.length?(0,r.jsx)("div",{className:"clients-empty",children:"No clients found."}):m.map(e=>(0,r.jsxs)("div",{className:"client-card",children:[(0,r.jsx)("div",{className:"client-avatar",style:{background:"#".concat(123456*e.id%16777215)},children:(0,r.jsxs)("span",{children:[e.firstName[0],e.lastName[0]]})}),(0,r.jsxs)("div",{className:"client-info",children:[(0,r.jsxs)("div",{className:"client-name",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("div",{className:"client-email",children:e.email}),(0,r.jsxs)("div",{className:"client-meta",children:[(0,r.jsxs)("span",{children:["@",e.username]}),(0,r.jsx)("span",{children:"male"===e.gender?"♂️ Male":"♀️ Female"})]})]}),(0,r.jsx)("div",{className:"client-role",children:e.role||(e.id%2==0?"admin":"moderator")}),(0,r.jsx)("a",{className:"client-profile",href:"#",children:"View profile"})]},e.id))})]})}s(9499)},9499:function(){},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(2265),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var r,a={},u=null,c=null;for(r in void 0!==s&&(u=""+s),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:u,ref:c,props:a,_owner:l.current}}t.Fragment=a,t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(94)},2675:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return AuthProvider},useAuthContext:function(){return useAuthContext}});var r=s(7437),n=s(2265);let a=(0,n.createContext)();function AuthProvider(e){let{children:t}=e,[s,i]=(0,n.useState)(()=>{{let e=localStorage.getItem("authUser");return e?JSON.parse(e):null}});return(0,r.jsx)(a.Provider,{value:{user:s,login:e=>{i(e),localStorage.setItem("authUser",JSON.stringify(e))},logout:()=>{i(null),localStorage.removeItem("authUser")}},children:t})}function useAuthContext(){return(0,n.useContext)(a)}},8295:function(e,t,s){"use strict";s.d(t,{a:function(){return useAuth}});var r=s(2265);async function auth_login(e,t){let s=await fetch("https://dummyjson.com/users");if(!s.ok)throw Error("Failed to fetch users");let r=await s.json(),n=(r.users||[]).find(s=>(s.username===e||s.email===e)&&s.password===t);if(!n)throw Error("Invalid username or password");return n}var n=s(2675);function useAuth(){let{user:e,login:t,logout:s}=(0,n.useAuthContext)(),[a,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(!1),login=async(e,s)=>{o(!0),i(null);try{let r=await auth_login(e,s);return t(r),r}catch(e){return i(e.message||"Login failed"),null}finally{o(!1)}};return{user:e,login,logout:s,error:a,loading:l}}}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6440)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5439:function(e,n,t){Promise.resolve().then(t.bind(t,2539))},2539:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Login}});var r=t(7437),a=t(2265),o=t(4033),i=t(8295);function Login(){let[e,n]=(0,a.useState)(""),[t,s]=(0,a.useState)(""),{login:l,error:u,loading:c}=(0,i.a)(),d=(0,o.useRouter)(),handleSubmit=async n=>{n.preventDefault();let r=await l(e,t);r&&d.push("/admin/clients")};return(0,r.jsx)("div",{className:"admin-login-bg",children:(0,r.jsxs)("div",{className:"admin-login-card",children:[(0,r.jsx)("div",{className:"admin-login-title",children:"Sign in to platform"}),(0,r.jsxs)("form",{onSubmit:handleSubmit,children:[(0,r.jsx)("label",{className:"admin-login-label",htmlFor:"login-username",children:"Username or Email"}),(0,r.jsx)("input",{id:"login-username",className:"admin-login-input",type:"text",value:e,onChange:e=>n(e.target.value),required:!0,autoFocus:!0,autoComplete:"username",placeholder:"Enter your username or email"}),(0,r.jsx)("label",{className:"admin-login-label",htmlFor:"login-password",children:"Your password"}),(0,r.jsx)("input",{id:"login-password",className:"admin-login-input",type:"password",value:t,onChange:e=>s(e.target.value),required:!0,autoComplete:"current-password",placeholder:"Enter your password"}),u&&(0,r.jsx)("div",{className:"admin-login-error",children:u}),(0,r.jsx)("button",{className:"admin-login-btn",type:"submit",disabled:c,children:c?"Logging in...":"Login"}),(0,r.jsxs)("div",{className:"admin-login-links",children:[(0,r.jsx)("a",{href:"#",className:"admin-login-link",children:"Forgot password?"}),(0,r.jsx)("a",{href:"#",className:"admin-login-link",children:"Sign-up"})]})]})]})})}t(4488)},4488:function(){},622:function(e,n,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,n,t){var r,o={},u=null,c=null;for(r in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)i.call(n,r)&&!l.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}n.Fragment=o,n.jsx=q,n.jsxs=q},7437:function(e,n,t){"use strict";e.exports=t(622)},4033:function(e,n,t){e.exports=t(94)},2675:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthProvider:function(){return AuthProvider},useAuthContext:function(){return useAuthContext}});var r=t(7437),a=t(2265);let o=(0,a.createContext)();function AuthProvider(e){let{children:n}=e,[t,i]=(0,a.useState)(()=>{{let e=localStorage.getItem("authUser");return e?JSON.parse(e):null}});return(0,r.jsx)(o.Provider,{value:{user:t,login:e=>{i(e),localStorage.setItem("authUser",JSON.stringify(e))},logout:()=>{i(null),localStorage.removeItem("authUser")}},children:n})}function useAuthContext(){return(0,a.useContext)(o)}},8295:function(e,n,t){"use strict";t.d(n,{a:function(){return useAuth}});var r=t(2265);async function auth_login(e,n){let t=await fetch("https://dummyjson.com/users");if(!t.ok)throw Error("Failed to fetch users");let r=await t.json(),a=(r.users||[]).find(t=>(t.username===e||t.email===e)&&t.password===n);if(!a)throw Error("Invalid username or password");return a}var a=t(2675);function useAuth(){let{user:e,login:n,logout:t}=(0,a.useAuthContext)(),[o,i]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),login=async(e,t)=>{l(!0),i(null);try{let r=await auth_login(e,t);return n(r),r}catch(e){return i(e.message||"Login failed"),null}finally{l(!1)}};return{user:e,login,logout:t,error:o,loading:s}}}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5439)}),_N_E=e.O()}]);